<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Primary Meta Tags -->
    <title>SOLID FUND - Decentralized Charity Donation Platform</title>
    <meta name="title" content="SOLID FUND - Decentralized Charity Donation Platform" />
    <meta name="description" content="SOLID FUND is a blockchain-based charity donation platform using Gnosis Safe multisig wallets for secure fund management. Donate ETH transparently and securely." />
    <meta name="keywords" content="charity, blockchain, ethereum, donation, gnosis safe, multisig, web3, defi, cryptocurrency" />
    <meta name="author" content="SOLID FUND Team" />
    <meta name="language" content="English" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://solid-fund.web.app/" />
    <meta property="og:title" content="SOLID FUND - Decentralized Charity Donation Platform" />
    <meta property="og:description" content="SOLID FUND is a blockchain-based charity donation platform using Gnosis Safe multisig wallets for secure fund management. Donate ETH transparently and securely." />
    <meta property="og:image" content="https://solid-fund.web.app/og-image.png" />
    <meta property="og:site_name" content="SOLID FUND" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://solid-fund.web.app/" />
    <meta property="twitter:title" content="SOLID FUND - Decentralized Charity Donation Platform" />
    <meta property="twitter:description" content="SOLID FUND is a blockchain-based charity donation platform using Gnosis Safe multisig wallets for secure fund management. Donate ETH transparently and securely." />
    <meta property="twitter:image" content="https://solid-fund.web.app/twitter-image.png" />
    
    <!-- Additional Meta Tags -->
    <meta name="robots" content="index, follow" />
    <meta name="revisit-after" content="7 days" />
    <meta name="rating" content="general" />
    <meta name="distribution" content="global" />
    <meta name="theme-color" content="#1976d2" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://solid-fund.web.app/" />
    
    <!-- Preconnect to external resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  </head>
  <body>
    <div id="root"></div>
    <!-- Initialize Safe SDK EARLY - Safe Wallet checks this when adding app -->
    <!-- QUAN TR·ªåNG: Safe Wallet s·∫Ω load app trong iframe v√† ki·ªÉm tra SDK -->
    <script type="module">
      // Kh·ªüi t·∫°o Safe SDK ngay khi HTML load - TR∆Ø·ªöC khi React app start
      // Safe Wallet s·∫Ω ki·ªÉm tra app c√≥ h·ªó tr·ª£ Safe App functionality khi add app
      console.log('üî∑ HTML: Starting Safe SDK initialization...');
      console.log('üî∑ HTML: Is in iframe?', window.self !== window.top);
      console.log('üî∑ HTML: User agent:', navigator.userAgent);
      
      // QUAN TR·ªåNG: Kh·ªüi t·∫°o SDK ngay c·∫£ khi kh√¥ng trong iframe
      // Safe Wallet s·∫Ω load app trong iframe khi ki·ªÉm tra
      import('@safe-global/safe-apps-sdk').then((module) => {
        const SafeAppsSDK = module.default || module;
        try {
          // Kh·ªüi t·∫°o SDK - Safe Wallet s·∫Ω detect communicator
          const sdk = new SafeAppsSDK();
          console.log('‚úÖ HTML: Safe Apps SDK initialized!', sdk);
          console.log('‚úÖ HTML: SDK communicator:', sdk.communicator);
          console.log('‚úÖ HTML: SDK safe:', sdk.safe);
          
          // Store globally ƒë·ªÉ Safe Wallet c√≥ th·ªÉ detect
          window.__SAFE_APP_SDK__ = sdk;
          window.safeSDK = sdk;
          
          // QUAN TR·ªåNG: ƒê·∫£m b·∫£o communicator s·∫µn s√†ng v√† listen messages
          // Safe Wallet s·∫Ω g·ª≠i message v√† ƒë·ª£i response
          if (sdk.communicator) {
            console.log('‚úÖ HTML: SDK communicator is ready');
            
            // Listen cho messages t·ª´ parent (Safe Wallet)
            window.addEventListener('message', (event) => {
              // Log t·∫•t c·∫£ messages ƒë·ªÉ debug
              if (event.data && typeof event.data === 'object') {
                console.log('üì® HTML: Received message:', event.data);
              }
            });
          }
          
          // Th·ª≠ g·ªçi getInfo() ngay ƒë·ªÉ "activate" SDK
          // ƒêi·ªÅu n√†y gi√∫p Safe Wallet bi·∫øt app h·ªó tr·ª£ Safe App
          if (sdk.safe && sdk.safe.getInfo) {
            sdk.safe.getInfo()
              .then((info) => {
                console.log('‚úÖ HTML: Safe Wallet detected!', info);
              })
              .catch((e) => {
                // OK - kh√¥ng trong Safe Wallet, nh∆∞ng SDK ƒë√£ s·∫µn s√†ng
                console.log('‚ÑπÔ∏è HTML: Not in Safe Wallet yet (OK when adding app)');
              });
          }
          
          // SDK ƒë√£ s·∫µn s√†ng - Safe Wallet c√≥ th·ªÉ detect qua communicator
        } catch (e) {
          console.error('‚ùå HTML: Failed to initialize Safe SDK:', e);
        }
      }).catch((e) => {
        console.error('‚ùå HTML: Failed to import Safe SDK:', e);
        console.error('‚ùå HTML: Error details:', e.message, e.stack);
      });
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
